{"ast":null,"code":"var _jsxFileName = \"/Users/jijeong/study/bookStore-app/src/routes/Weathers/Cities/Custom.tsx\",\n    _s = $RefreshSig$();\n\nimport { useQuery } from 'react-query';\nimport { useSearchParams } from 'react-router-dom';\nimport styles from './cities.module.scss';\nimport { useMount, useState } from 'hooks';\nimport { getWeatherForecast5DaysApi } from 'services/weather';\nimport WeatherItem from 'routes/Weathers/Item';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WeatherCustom = () => {\n  _s();\n\n  var _searchParams$get, _searchParams$get2;\n\n  const [searchParams] = useSearchParams();\n  const [lat, setLat] = useState((_searchParams$get = searchParams.get('lat')) !== null && _searchParams$get !== void 0 ? _searchParams$get : '');\n  const [lon, setLon] = useState((_searchParams$get2 = searchParams.get('lon')) !== null && _searchParams$get2 !== void 0 ? _searchParams$get2 : '');\n  useMount(() => {\n    if (!lat || !lon) return;\n    handleSubmit();\n  });\n  const {\n    data,\n    refetch\n  } = useQuery(['getWeatherForecast5DaysApi', lat, lon], () => getWeatherForecast5DaysApi({\n    lat: Number(lat),\n    lon: Number(lon)\n  }).then(res => res.data), {\n    refetchOnWindowFocus: false,\n    useErrorBoundary: true,\n    staleTime: 6 * 10 * 1000\n  });\n\n  const handleSubmit = () => {\n    refetch();\n  };\n\n  const handleLatChange = e => {\n    setLat(e.currentTarget.value);\n  };\n\n  const handleLonChange = e => {\n    setLon(e.currentTarget.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.city,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: data ? data.city.name : 'Custom location'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.leftWing,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: handleLatChange,\n          value: lat,\n          placeholder: \"lat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: handleLonChange,\n          value: lon,\n          placeholder: \"lon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uD655\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.forecast,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Next forecast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), data ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: data.list.map(item => /*#__PURE__*/_jsxDEV(WeatherItem, {\n          item: item\n        }, item.dt_txt, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.placeholderMsg,\n        children: \"Enter lat/lon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WeatherCustom, \"WJ7ZPWjRwOqk8VG0IADPovJv738=\", false, function () {\n  return [useSearchParams, useMount, useQuery];\n});\n\n_c = WeatherCustom;\nexport default WeatherCustom;\n\nvar _c;\n\n$RefreshReg$(_c, \"WeatherCustom\");","map":{"version":3,"names":["useQuery","useSearchParams","styles","useMount","useState","getWeatherForecast5DaysApi","WeatherItem","WeatherCustom","searchParams","lat","setLat","get","lon","setLon","handleSubmit","data","refetch","Number","then","res","refetchOnWindowFocus","useErrorBoundary","staleTime","handleLatChange","e","currentTarget","value","handleLonChange","city","name","leftWing","forecast","list","map","item","dt_txt","placeholderMsg"],"sources":["/Users/jijeong/study/bookStore-app/src/routes/Weathers/Cities/Custom.tsx"],"sourcesContent":["import { ChangeEvent } from 'react'\nimport { useQuery } from 'react-query'\nimport { useSearchParams } from 'react-router-dom'\nimport styles from './cities.module.scss'\n\nimport { useMount, useState } from 'hooks'\nimport { getWeatherForecast5DaysApi } from 'services/weather'\nimport WeatherItem from 'routes/Weathers/Item'\n\nconst WeatherCustom = () => {\n  const [searchParams] = useSearchParams()\n  const [lat, setLat] = useState(searchParams.get('lat') ?? '')\n  const [lon, setLon] = useState(searchParams.get('lon') ?? '')\n\n  useMount(() => {\n    if (!lat || !lon) return\n    handleSubmit()\n  })\n\n  const { data, refetch } = useQuery(\n    ['getWeatherForecast5DaysApi', lat, lon],\n    () => getWeatherForecast5DaysApi({ lat: Number(lat), lon: Number(lon) }).then((res) => res.data),\n    {\n      refetchOnWindowFocus: false,\n      useErrorBoundary: true,\n      staleTime: 6 * 10 * 1000,\n    }\n  )\n\n  const handleSubmit = () => {\n    refetch()\n  }\n\n  const handleLatChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setLat(e.currentTarget.value)\n  }\n\n  const handleLonChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setLon(e.currentTarget.value)\n  }\n\n  return (\n    <section className={styles.city}>\n      <h1>{data ? data.city.name : 'Custom location'}</h1>\n      <form onSubmit={handleSubmit}>\n        <div className={styles.leftWing}>\n          <input type='text' onChange={handleLatChange} value={lat} placeholder='lat' />\n          <input type='text' onChange={handleLonChange} value={lon} placeholder='lon' />\n        </div>\n        <button type='submit'>확인</button>\n      </form>\n      <div className={styles.forecast}>\n        <h2>Next forecast</h2>\n        {data ? (\n          <ul>\n            {data.list.map((item) => (\n              <WeatherItem key={item.dt_txt} item={item} />\n            ))}\n          </ul>\n        ) : (\n          <div className={styles.placeholderMsg}>Enter lat/lon</div>\n        )}\n      </div>\n    </section>\n  )\n}\n\nexport default WeatherCustom\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}