{"ast":null,"code":"var _jsxFileName = \"/Users/jijeong/study/bookStore-app/src/components/ItemList/index.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from './itemList.module.scss';\nimport { useEffect, useState } from 'react';\nimport { useRecoil } from 'hooks/state';\nimport { cartStoreState, likeStoreState } from 'states/storeState';\nimport store from 'store';\nimport thousandReExp from 'utils/thousandReExp';\nimport { inputValue, searchValue } from 'states/inputSearchValue';\nimport cx from 'classnames';\nimport noImage from 'assets/images/noImage.png';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ItemList = _ref => {\n  _s();\n\n  let {\n    item,\n    type,\n    setState,\n    clickDel\n  } = _ref;\n  const [cartStoreData, setCartStoreData] = useRecoil(cartStoreState);\n  const [likeStoreData, setLikeStoreData] = useRecoil(likeStoreState);\n  const [, setInput] = useRecoil(inputValue);\n  const [, setSearch] = useRecoil(searchValue);\n  const [nowType, setNowType] = useState('');\n  const [nowValue, setNowValue] = useState('');\n\n  const handleBtnClick = e => {\n    const {\n      value\n    } = e.currentTarget.dataset;\n    const {\n      className\n    } = e.currentTarget;\n    if (value === undefined) return;\n\n    if (className.split('_')[1] === 'deleteBtn') {\n      setNowType(type);\n      setNowValue(value);\n      console.log(value);\n    }\n\n    setState(true);\n  };\n\n  useEffect(() => {\n    if (clickDel) {\n      if (nowType === 'cartStore') {\n        store.set(nowType, cartStoreData === null || cartStoreData === void 0 ? void 0 : cartStoreData.filter(data => data.isbn !== nowValue));\n        console.log(store.get(nowType));\n        setCartStoreData(store.get(nowType));\n      } else {\n        store.set('likeStore', likeStoreData === null || likeStoreData === void 0 ? void 0 : likeStoreData.filter(data => data.isbn !== nowValue));\n        setLikeStoreData(store.get(nowType));\n        setInput('');\n        setSearch('');\n      }\n    }\n  }, [cartStoreData, clickDel, likeStoreData, nowType, nowValue, setCartStoreData, setInput, setLikeStoreData, setSearch]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: styles.itemWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.item,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `bookdetail/${item.publisher} ${item.title}`,\n        className: cx(styles.recentItemTitle),\n        children: item.thumbnail === '' ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: noImage,\n          alt: item.thumbnail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: item.thumbnail,\n          alt: `${item.title}_img`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.bookWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.bookTitle,\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.bookAuthor,\n            children: item.authors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cx(styles.bookPrice, {\n              [styles.isSoldout]: item.sale_price === -1\n            }),\n            children: [thousandReExp(item.sale_price === -1 ? item.price : item.sale_price), \"\\uC6D0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: styles.deleteBtn,\n            \"data-value\": item.isbn,\n            onClick: handleBtnClick,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: cx(styles.buyBtn, {\n              [styles.isSoldout]: item.sale_price === -1\n            }),\n            \"data-value\": item.isbn,\n            children: item.sale_price === -1 ? '품절' : '구매'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), item.sale_price === -1 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.soldoutMsg,\n      children: \"\\uD488\\uC808\\uB41C \\uC0C1\\uD488\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 34\n    }, this)]\n  }, item.isbn, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ItemList, \"1VvWkcX9hWOXFVfAGAstEbEuUwo=\", false, function () {\n  return [useRecoil, useRecoil, useRecoil, useRecoil];\n});\n\n_c = ItemList;\nexport default ItemList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["styles","useEffect","useState","useRecoil","cartStoreState","likeStoreState","store","thousandReExp","inputValue","searchValue","cx","noImage","Link","ItemList","item","type","setState","clickDel","cartStoreData","setCartStoreData","likeStoreData","setLikeStoreData","setInput","setSearch","nowType","setNowType","nowValue","setNowValue","handleBtnClick","e","value","currentTarget","dataset","className","undefined","split","console","log","set","filter","data","isbn","get","itemWrapper","publisher","title","recentItemTitle","thumbnail","image","content","bookWrap","bookTitle","bookAuthor","authors","bookPrice","isSoldout","sale_price","price","buttonWrap","deleteBtn","buyBtn","soldoutMsg"],"sources":["/Users/jijeong/study/bookStore-app/src/components/ItemList/index.tsx"],"sourcesContent":["import styles from './itemList.module.scss'\nimport { MouseEvent, SetStateAction, useEffect, useState } from 'react'\nimport { useRecoil } from 'hooks/state'\nimport { cartStoreState, likeStoreState } from 'states/storeState'\nimport store from 'store'\nimport { SearchStructure } from 'types/searchStructure'\nimport thousandReExp from 'utils/thousandReExp'\nimport { inputValue, searchValue } from 'states/inputSearchValue'\nimport cx from 'classnames'\nimport noImage from 'assets/images/noImage.png'\nimport { Link } from 'react-router-dom'\n\ninterface Props {\n  item: SearchStructure\n  type: string\n  setState: React.Dispatch<SetStateAction<boolean>>\n  clickDel: boolean\n}\n\nconst ItemList = ({ item, type, setState, clickDel }: Props) => {\n  const [cartStoreData, setCartStoreData] = useRecoil(cartStoreState)\n  const [likeStoreData, setLikeStoreData] = useRecoil(likeStoreState)\n  const [, setInput] = useRecoil(inputValue)\n  const [, setSearch] = useRecoil(searchValue)\n  const [nowType, setNowType] = useState('')\n  const [nowValue, setNowValue] = useState<string>('')\n\n  const handleBtnClick = (e: MouseEvent<HTMLButtonElement>) => {\n    const { value } = e.currentTarget.dataset\n    const { className } = e.currentTarget\n\n    if (value === undefined) return\n\n    if (className.split('_')[1] === 'deleteBtn') {\n      setNowType(type)\n      setNowValue(value)\n      console.log(value)\n    }\n    setState(true)\n  }\n\n  useEffect(() => {\n    if (clickDel) {\n      if (nowType === 'cartStore') {\n        store.set(\n          nowType,\n          cartStoreData?.filter((data: SearchStructure) => data.isbn !== nowValue)\n        )\n        console.log(store.get(nowType))\n        setCartStoreData(store.get(nowType))\n      } else {\n        store.set(\n          'likeStore',\n          likeStoreData?.filter((data: SearchStructure) => data.isbn !== nowValue)\n        )\n        setLikeStoreData(store.get(nowType))\n        setInput('')\n        setSearch('')\n      }\n    }\n  }, [\n    cartStoreData,\n    clickDel,\n    likeStoreData,\n    nowType,\n    nowValue,\n    setCartStoreData,\n    setInput,\n    setLikeStoreData,\n    setSearch,\n  ])\n\n  return (\n    <li className={styles.itemWrapper} key={item.isbn}>\n      <div className={styles.item}>\n        <Link to={`bookdetail/${item.publisher} ${item.title}`} className={cx(styles.recentItemTitle)}>\n          {item.thumbnail === '' ? (\n            <img className={styles.image} src={noImage} alt={item.thumbnail} />\n          ) : (\n            <img className={styles.image} src={item.thumbnail} alt={`${item.title}_img`} />\n          )}\n        </Link>\n        <div className={styles.content}>\n          <div className={styles.bookWrap}>\n            <div className={styles.bookTitle}>{item.title}</div>\n            <div className={styles.bookAuthor}>{item.authors}</div>\n            <div className={cx(styles.bookPrice, { [styles.isSoldout]: item.sale_price === -1 })}>\n              {thousandReExp(item.sale_price === -1 ? item.price : item.sale_price)}원\n            </div>\n          </div>\n          <div className={styles.buttonWrap}>\n            <button type='button' className={styles.deleteBtn} data-value={item.isbn} onClick={handleBtnClick}>\n              삭제\n            </button>\n            <button\n              type='button'\n              className={cx(styles.buyBtn, { [styles.isSoldout]: item.sale_price === -1 })}\n              data-value={item.isbn}\n            >\n              {item.sale_price === -1 ? '품절' : '구매'}\n            </button>\n          </div>\n        </div>\n      </div>\n      {item.sale_price === -1 && <p className={styles.soldoutMsg}>품절된 상품입니다.</p>}\n    </li>\n  )\n}\n\nexport default ItemList\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}