{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable @typescript-eslint/ban-types */\n// https://github.com/streamich/react-use/blob/master/src/useTimeoutFn.ts\nimport { useCallback, useEffect, useRef } from 'react';\nexport function useTimeoutFn(fn) {\n  _s();\n\n  let ms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const ready = useRef(false);\n  const timeout = useRef();\n  const callback = useRef(fn);\n  const isReady = useCallback(() => ready.current, []);\n  const set = useCallback(() => {\n    ready.current = false;\n\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n\n    timeout.current = setTimeout(() => {\n      ready.current = true;\n      callback.current();\n    }, ms);\n  }, [ms]);\n  const clear = useCallback(() => {\n    if (timeout.current == null) return;\n    ready.current = null;\n\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n  }, []); // NOTE: unmount시 클리어 처리\n\n  useEffect(() => {\n    return clear;\n  }, [clear]);\n  return [set, clear, isReady];\n}\n\n_s(useTimeoutFn, \"v2v1jqCOJUQM0TrLTirXOuR5k/I=\");","map":{"version":3,"names":["useCallback","useEffect","useRef","useTimeoutFn","fn","ms","ready","timeout","callback","isReady","current","set","clearTimeout","setTimeout","clear"],"sources":["/Users/jijeong/study/foundation-ts/src/hooks/useTimeoutFn.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-types */\n// https://github.com/streamich/react-use/blob/master/src/useTimeoutFn.ts\nimport { useCallback, useEffect, useRef } from 'react'\n\ntype ReadyFunction = () => boolean | null\ntype SetFunction = () => void\ntype ClearFunction = SetFunction\n\nexport type UseTimeoutFn = [SetFunction, ClearFunction, ReadyFunction]\n\nexport function useTimeoutFn(fn: Function, ms = 0): UseTimeoutFn {\n  const ready = useRef<boolean | null>(false)\n  const timeout = useRef<ReturnType<typeof setTimeout>>()\n  const callback = useRef(fn)\n\n  const isReady = useCallback(() => ready.current, [])\n\n  const set = useCallback(() => {\n    ready.current = false\n    if (timeout.current) {\n      clearTimeout(timeout.current)\n    }\n\n    timeout.current = setTimeout(() => {\n      ready.current = true\n      callback.current()\n    }, ms)\n  }, [ms])\n\n  const clear = useCallback(() => {\n    if (timeout.current == null) return\n    ready.current = null\n    if (timeout.current) {\n      clearTimeout(timeout.current)\n    }\n  }, [])\n\n  // NOTE: unmount시 클리어 처리\n  useEffect(() => {\n    return clear\n  }, [clear])\n\n  return [set, clear, isReady]\n}\n"],"mappings":";;AAAA;AACA;AACA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,MAAjC,QAA+C,OAA/C;AAQA,OAAO,SAASC,YAAT,CAAsBC,EAAtB,EAA0D;EAAA;;EAAA,IAAtBC,EAAsB,uEAAjB,CAAiB;EAC/D,MAAMC,KAAK,GAAGJ,MAAM,CAAiB,KAAjB,CAApB;EACA,MAAMK,OAAO,GAAGL,MAAM,EAAtB;EACA,MAAMM,QAAQ,GAAGN,MAAM,CAACE,EAAD,CAAvB;EAEA,MAAMK,OAAO,GAAGT,WAAW,CAAC,MAAMM,KAAK,CAACI,OAAb,EAAsB,EAAtB,CAA3B;EAEA,MAAMC,GAAG,GAAGX,WAAW,CAAC,MAAM;IAC5BM,KAAK,CAACI,OAAN,GAAgB,KAAhB;;IACA,IAAIH,OAAO,CAACG,OAAZ,EAAqB;MACnBE,YAAY,CAACL,OAAO,CAACG,OAAT,CAAZ;IACD;;IAEDH,OAAO,CAACG,OAAR,GAAkBG,UAAU,CAAC,MAAM;MACjCP,KAAK,CAACI,OAAN,GAAgB,IAAhB;MACAF,QAAQ,CAACE,OAAT;IACD,CAH2B,EAGzBL,EAHyB,CAA5B;EAID,CAVsB,EAUpB,CAACA,EAAD,CAVoB,CAAvB;EAYA,MAAMS,KAAK,GAAGd,WAAW,CAAC,MAAM;IAC9B,IAAIO,OAAO,CAACG,OAAR,IAAmB,IAAvB,EAA6B;IAC7BJ,KAAK,CAACI,OAAN,GAAgB,IAAhB;;IACA,IAAIH,OAAO,CAACG,OAAZ,EAAqB;MACnBE,YAAY,CAACL,OAAO,CAACG,OAAT,CAAZ;IACD;EACF,CANwB,EAMtB,EANsB,CAAzB,CAnB+D,CA2B/D;;EACAT,SAAS,CAAC,MAAM;IACd,OAAOa,KAAP;EACD,CAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;EAIA,OAAO,CAACH,GAAD,EAAMG,KAAN,EAAaL,OAAb,CAAP;AACD;;GAjCeN,Y"},"metadata":{},"sourceType":"module"}