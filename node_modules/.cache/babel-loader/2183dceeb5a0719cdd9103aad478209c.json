{"ast":null,"code":"var _jsxFileName = \"/Users/jijeong/study/foundation-ts/src/routes/Chart/Chart.tsx\";\nimport { VictoryAxis, VictoryBar, VictoryChart, VictoryStack, VictoryTheme } from 'victory';\nimport CHART_STYLE from './chartStyle';\nimport CHANNEL_DATA from './channelData.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getFuck = () => {\n  const dataStructure = [{\n    value: 0,\n    category: '광고비'\n  }, {\n    value: 0,\n    category: '매출'\n  }, {\n    value: 0,\n    category: '노출 수'\n  }, {\n    value: 0,\n    category: '클릭 수'\n  }, {\n    value: 0,\n    category: '전환 수'\n  }];\n  console.log(dataStructure);\n  const data = {\n    google: [...[{\n      value: 0,\n      category: '광고비'\n    }, {\n      value: 0,\n      category: '매출'\n    }, {\n      value: 0,\n      category: '노출 수'\n    }, {\n      value: 0,\n      category: '클릭 수'\n    }, {\n      value: 0,\n      category: '전환 수'\n    }]],\n    facebook: [...[{\n      value: 0,\n      category: '광고비'\n    }, {\n      value: 0,\n      category: '매출'\n    }, {\n      value: 0,\n      category: '노출 수'\n    }, {\n      value: 0,\n      category: '클릭 수'\n    }, {\n      value: 0,\n      category: '전환 수'\n    }]],\n    naver: [...[{\n      value: 0,\n      category: '광고비'\n    }, {\n      value: 0,\n      category: '매출'\n    }, {\n      value: 0,\n      category: '노출 수'\n    }, {\n      value: 0,\n      category: '클릭 수'\n    }, {\n      value: 0,\n      category: '전환 수'\n    }]],\n    kakao: [...[{\n      value: 0,\n      category: '광고비'\n    }, {\n      value: 0,\n      category: '매출'\n    }, {\n      value: 0,\n      category: '노출 수'\n    }, {\n      value: 0,\n      category: '클릭 수'\n    }, {\n      value: 0,\n      category: '전환 수'\n    }]]\n  };\n  CHANNEL_DATA.forEach(d => {\n    // console.log(d)\n    data[d.channel].find(item => item.category === '광고비').value += d.cost; // console.log(d.channel, d.cost, data[d.channel])\n\n    data[d.channel].find(item => item.category === '매출').value += d.roas;\n    data[d.channel].find(item => item.category === '노출 수').value += d.imp;\n    data[d.channel].find(item => item.category === '클릭 수').value += d.ctr;\n    data[d.channel].find(item => item.category === '전환 수').value += d.cvr; // console.log(d.channel, data.channel)\n  });\n  const hap = google[0].value + facebook[0].value + naver[0].value + kakao[0].value;\n  google.find(item => item.category === '매출').value = google[0].value / hap * 100;\n  return data;\n}; // {\n//   \"channel\": \"google\",\n//   \"date\": \"2022-02-01\",\n//   \"imp\": 50, // 노출\n//   \"click\": 7, // 클릭\n//   \"cost\": 2098, // 광고비\n//   \"convValue\": 0, // 전환비용?\n//   \"ctr\": 14.0000, // 클릭률\n//   \"cvr\": 0.0000, // 전환률\n//   \"cpc\": 299.7143, // click per click\n//   \"cpa\": 0.0000, // click per action\n//   \"roas\": 0.0000 // 광고 지출 대비 수익률\n// },\n// convValue / cost * 100 = roas\n// ['cost', 'const x roas', 'imp', 'click', 'imp * cvr']\n\n\nconst tickFormat = ['광고비', '매출', '노출 수', '클릭 수', '전환 수'];\nconst {\n  google,\n  facebook,\n  naver,\n  kakao\n} = getFuck();\n\nconst Chart = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(VictoryChart, {\n      theme: VictoryTheme.material,\n      domainPadding: 20,\n      children: [/*#__PURE__*/_jsxDEV(VictoryAxis, {\n        tickValues: tickFormat,\n        tickFormat: tickFormat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VictoryAxis, {\n        dependentAxis: true // tickFormat specifies how ticks should be displayed\n        ,\n        tickFormat: x => `${x / 1000000}m`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VictoryStack, {\n        colorScale: ['#AC8AF8', '#85DA47', '#4FADF7', '#FFEB00'],\n        children: [/*#__PURE__*/_jsxDEV(VictoryBar, {\n          data: google,\n          ...CHART_STYLE.bar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VictoryBar, {\n          data: facebook,\n          ...CHART_STYLE.bar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VictoryBar, {\n          data: naver,\n          ...CHART_STYLE.bar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VictoryBar, {\n          data: kakao,\n          ...CHART_STYLE.bar,\n          cornerRadius: {\n            top: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Chart;\nexport default Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"names":["VictoryAxis","VictoryBar","VictoryChart","VictoryStack","VictoryTheme","CHART_STYLE","CHANNEL_DATA","getFuck","dataStructure","value","category","console","log","data","google","facebook","naver","kakao","forEach","d","channel","find","item","cost","roas","imp","ctr","cvr","hap","tickFormat","Chart","material","x","bar","top"],"sources":["/Users/jijeong/study/foundation-ts/src/routes/Chart/Chart.tsx"],"sourcesContent":["import { VictoryAxis, VictoryBar, VictoryChart, VictoryStack, VictoryTheme } from 'victory'\nimport styles from './corona.module.scss'\n\nimport CHART_STYLE from './chartStyle'\nimport CHANNEL_DATA from './channelData.json'\n\nconst getFuck = () => {\n  const dataStructure = [\n    { value: 0, category: '광고비' },\n    { value: 0, category: '매출' },\n    { value: 0, category: '노출 수' },\n    { value: 0, category: '클릭 수' },\n    { value: 0, category: '전환 수' },\n  ]\n  console.log(dataStructure)\n  const data: Record<string, { value: number; category: string }[]> = {\n    google: [\n      ...[\n        { value: 0, category: '광고비' },\n        { value: 0, category: '매출' },\n        { value: 0, category: '노출 수' },\n        { value: 0, category: '클릭 수' },\n        { value: 0, category: '전환 수' },\n      ],\n    ],\n    facebook: [\n      ...[\n        { value: 0, category: '광고비' },\n        { value: 0, category: '매출' },\n        { value: 0, category: '노출 수' },\n        { value: 0, category: '클릭 수' },\n        { value: 0, category: '전환 수' },\n      ],\n    ],\n    naver: [\n      ...[\n        { value: 0, category: '광고비' },\n        { value: 0, category: '매출' },\n        { value: 0, category: '노출 수' },\n        { value: 0, category: '클릭 수' },\n        { value: 0, category: '전환 수' },\n      ],\n    ],\n    kakao: [\n      ...[\n        { value: 0, category: '광고비' },\n        { value: 0, category: '매출' },\n        { value: 0, category: '노출 수' },\n        { value: 0, category: '클릭 수' },\n        { value: 0, category: '전환 수' },\n      ],\n    ],\n  }\n\n  CHANNEL_DATA.forEach((d) => {\n    // console.log(d)\n    data[d.channel].find((item) => item.category === '광고비')!.value += d.cost\n    // console.log(d.channel, d.cost, data[d.channel])\n    data[d.channel].find((item) => item.category === '매출')!.value += d.roas\n    data[d.channel].find((item) => item.category === '노출 수')!.value += d.imp\n    data[d.channel].find((item) => item.category === '클릭 수')!.value += d.ctr\n    data[d.channel].find((item) => item.category === '전환 수')!.value += d.cvr\n    // console.log(d.channel, data.channel)\n  })\n  const hap = google[0].value + facebook[0].value + naver[0].value + kakao[0].value\n  google.find((item) => item.category === '매출')!.value = (google[0].value / hap) * 100\n  return data\n}\n\n// {\n//   \"channel\": \"google\",\n//   \"date\": \"2022-02-01\",\n//   \"imp\": 50, // 노출\n//   \"click\": 7, // 클릭\n//   \"cost\": 2098, // 광고비\n//   \"convValue\": 0, // 전환비용?\n//   \"ctr\": 14.0000, // 클릭률\n//   \"cvr\": 0.0000, // 전환률\n//   \"cpc\": 299.7143, // click per click\n//   \"cpa\": 0.0000, // click per action\n//   \"roas\": 0.0000 // 광고 지출 대비 수익률\n// },\n\n// convValue / cost * 100 = roas\n// ['cost', 'const x roas', 'imp', 'click', 'imp * cvr']\n\nconst tickFormat = ['광고비', '매출', '노출 수', '클릭 수', '전환 수']\n\nconst { google, facebook, naver, kakao } = getFuck()\n\nconst Chart = () => {\n  return (\n    <div>\n      <VictoryChart theme={VictoryTheme.material} domainPadding={20}>\n        <VictoryAxis tickValues={tickFormat} tickFormat={tickFormat} />\n        <VictoryAxis\n          dependentAxis\n          // tickFormat specifies how ticks should be displayed\n          tickFormat={(x) => `${x / 1000_000}m`}\n        />\n        <VictoryStack colorScale={['#AC8AF8', '#85DA47', '#4FADF7', '#FFEB00']}>\n          <VictoryBar data={google} {...CHART_STYLE.bar} />\n          <VictoryBar data={facebook} {...CHART_STYLE.bar} />\n          <VictoryBar data={naver} {...CHART_STYLE.bar} />\n          <VictoryBar data={kakao} {...CHART_STYLE.bar} cornerRadius={{ top: 6 }} />\n        </VictoryStack>\n      </VictoryChart>\n    </div>\n  )\n}\n\nexport default Chart\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}