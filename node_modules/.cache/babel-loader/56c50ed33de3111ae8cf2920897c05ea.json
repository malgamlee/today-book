{"ast":null,"code":"var _jsxFileName = \"/Users/jijeong/study/bookStore-app/src/components/ItemList/index.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from './itemList.module.scss';\nimport { useRecoil } from 'hooks/state';\nimport { cartStoreState, likeStoreState } from 'states/storeState';\nimport store from 'store';\nimport thousandReExp from 'utils/thousandReExp';\nimport { inputValue, searchValue } from 'states/inputSearchValue';\nimport cx from 'classnames';\nimport noImage from 'assets/images/noImage.png';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ItemList = _ref => {\n  _s();\n\n  let {\n    item,\n    type\n  } = _ref;\n  const [cartStoreData, setCartStoreData] = useRecoil(cartStoreState);\n  const [likeStoreData, setLikeStoreData] = useRecoil(likeStoreState);\n  const [, setInput] = useRecoil(inputValue);\n  const [, setSearch] = useRecoil(searchValue);\n\n  const handleClick = e => {\n    const {\n      value\n    } = e.currentTarget.dataset;\n    const {\n      className\n    } = e.currentTarget;\n\n    if (className.split('_')[1] === 'deleteBtn') {\n      if (type === 'cartStore') {\n        store.set(type, cartStoreData.filter(data => data.isbn !== value));\n        setCartStoreData(store.get(type));\n      } else {\n        store.set('likeStore', likeStoreData.filter(data => data.isbn !== value));\n        setLikeStoreData(store.get(type));\n        setInput('');\n        setSearch('');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: styles.itemWrapper,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `searchresult/${item}`,\n      className: cx(styles.recentItemTitle),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.item,\n        children: [item.thumbnail === '' ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: noImage,\n          alt: item.thumbnail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: item.thumbnail,\n          alt: `${item.title}_img`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.content,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.bookWrap,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.bookTitle,\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.bookAuthor,\n              children: item.authors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: cx(styles.bookPrice, {\n                [styles.isSoldout]: item.sale_price === -1\n              }),\n              children: [thousandReExp(item.sale_price === -1 ? item.price : item.sale_price), \"\\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.buttonWrap,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: styles.deleteBtn,\n              \"data-value\": item.isbn,\n              onClick: handleClick,\n              children: \"\\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: cx(styles.buyBtn, {\n                [styles.isSoldout]: item.sale_price === -1\n              }),\n              \"data-value\": item.isbn,\n              onClick: handleClick,\n              children: item.sale_price === -1 ? '품절' : '구매'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), item.sale_price === -1 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.soldoutMsg,\n      children: \"\\uD488\\uC808\\uB41C \\uC0C1\\uD488\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 34\n    }, this)]\n  }, item.isbn, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ItemList, \"nzdkx7oO/CzFewywkucxM5vTAIQ=\", false, function () {\n  return [useRecoil, useRecoil, useRecoil, useRecoil];\n});\n\n_c = ItemList;\nexport default ItemList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["styles","useRecoil","cartStoreState","likeStoreState","store","thousandReExp","inputValue","searchValue","cx","noImage","Link","ItemList","item","type","cartStoreData","setCartStoreData","likeStoreData","setLikeStoreData","setInput","setSearch","handleClick","e","value","currentTarget","dataset","className","split","set","filter","data","isbn","get","itemWrapper","recentItemTitle","thumbnail","image","title","content","bookWrap","bookTitle","bookAuthor","authors","bookPrice","isSoldout","sale_price","price","buttonWrap","deleteBtn","buyBtn","soldoutMsg"],"sources":["/Users/jijeong/study/bookStore-app/src/components/ItemList/index.tsx"],"sourcesContent":["import styles from './itemList.module.scss'\nimport { MouseEvent } from 'react'\nimport { useRecoil } from 'hooks/state'\nimport { cartStoreState, likeStoreState } from 'states/storeState'\nimport store from 'store'\nimport { SearchStructure } from 'types/searchStructure'\nimport thousandReExp from 'utils/thousandReExp'\nimport { inputValue, searchValue } from 'states/inputSearchValue'\nimport cx from 'classnames'\nimport noImage from 'assets/images/noImage.png'\nimport { Link } from 'react-router-dom'\n\ninterface Props {\n  item: SearchStructure\n  type: string\n}\n\nconst ItemList = ({ item, type }: Props) => {\n  const [cartStoreData, setCartStoreData] = useRecoil(cartStoreState)\n  const [likeStoreData, setLikeStoreData] = useRecoil(likeStoreState)\n  const [, setInput] = useRecoil(inputValue)\n  const [, setSearch] = useRecoil(searchValue)\n  const handleClick = (e: MouseEvent<HTMLButtonElement>) => {\n    const { value } = e.currentTarget.dataset\n    const { className } = e.currentTarget\n\n    if (className.split('_')[1] === 'deleteBtn') {\n      if (type === 'cartStore') {\n        store.set(\n          type,\n          cartStoreData.filter((data: SearchStructure) => data.isbn !== value)\n        )\n        setCartStoreData(store.get(type))\n      } else {\n        store.set(\n          'likeStore',\n          likeStoreData.filter((data: SearchStructure) => data.isbn !== value)\n        )\n        setLikeStoreData(store.get(type))\n        setInput('')\n        setSearch('')\n      }\n    }\n  }\n\n  return (\n    <li className={styles.itemWrapper} key={item.isbn}>\n      <Link to={`searchresult/${item}`} className={cx(styles.recentItemTitle)}>\n        <div className={styles.item}>\n          {item.thumbnail === '' ? (\n            <img className={styles.image} src={noImage} alt={item.thumbnail} />\n          ) : (\n            <img className={styles.image} src={item.thumbnail} alt={`${item.title}_img`} />\n          )}\n          <div className={styles.content}>\n            <div className={styles.bookWrap}>\n              <div className={styles.bookTitle}>{item.title}</div>\n              <div className={styles.bookAuthor}>{item.authors}</div>\n              <div className={cx(styles.bookPrice, { [styles.isSoldout]: item.sale_price === -1 })}>\n                {thousandReExp(item.sale_price === -1 ? item.price : item.sale_price)}원\n              </div>\n            </div>\n            <div className={styles.buttonWrap}>\n              <button type='button' className={styles.deleteBtn} data-value={item.isbn} onClick={handleClick}>\n                삭제\n              </button>\n              <button\n                type='button'\n                className={cx(styles.buyBtn, { [styles.isSoldout]: item.sale_price === -1 })}\n                data-value={item.isbn}\n                onClick={handleClick}\n              >\n                {item.sale_price === -1 ? '품절' : '구매'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Link>\n\n      {item.sale_price === -1 && <p className={styles.soldoutMsg}>품절된 상품입니다.</p>}\n    </li>\n  )\n}\n\nexport default ItemList\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}